/*! For license information please see bundle.min.js.LICENSE.txt */
(()=>{var __webpack_modules__={"./js/footer.js":()=>{eval("\nfunction footerPeriod(){\n  const currentYear = new Date().getFullYear(); \n  const periodTags = document.querySelectorAll('.period');\n  if(currentYear == '2021'){\n    periodTags.forEach(tag => tag.innerHTML = '2021')\n  } else {\n    periodTags.forEach(tag => tag.innerHTML = `2021-${currentYear}`)\n  }  \n}\nfooterPeriod();\n\n\n//# sourceURL=webpack://pppd/./js/footer.js?")},"./js/main.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadPage\": () => (/* binding */ loadPage),\n/* harmony export */   \"openPage\": () => (/* binding */ openPage)\n/* harmony export */ });\nconst defaultLanguage = 'en';\n\nasync function loadPage(pageId) {\n  if (!document.querySelector(`#${pageId}`)){\n    console.log(`loading ${pageId}...`);\n    const response = await fetch(`${pageId}.html`);\n    if (response.ok) {\n      const text = await response.text(); \n      document.querySelector('#pages').innerHTML += text;\n    } else { console.log(`${pageId} can not be loaded`) }\n  }\n}  \n\nasync function openPage(language = defaultLanguage, pageName = 'main', anchor = '') {\n  //hide all\n  const pageContentBlocks2 = document.querySelectorAll('.hidden'); \n  pageContentBlocks2.forEach(element => element.style.display = 'none'); //or element.classList.add('hidden'), element.classList.remove('hidden')\n  //show menu & footer\n  let menu = document.querySelector(`#menu-${language}`);\n  if (!menu) menu = document.querySelector(`#menu-${defaultLanguage}`);\n  menu.style.display = 'block';\n  let footer = document.querySelector(`#footer-${language}`);\n  if (!footer) footer = document.querySelector(`#footer-${defaultLanguage}`);\n  footer.style.display = 'block';\n  //show page\n  const pageId = pageName+'-'+language;\n  await loadPage(pageId); \n  let page = document.querySelector(`#${pageId}`);\n  if (!page) page = document.querySelector(`#main-${defaultLanguage}`); \n  page.style.display = 'block';\n  //change meta information\n  const pageTitle = page.querySelector('.page-title').textContent;\n  const pageDescription = page.querySelector('.page-description').textContent;\n  const title = document.querySelector('head title');\n  title.textContent = pageTitle; \n  const description = document.querySelector('head meta[name=\"description\"]');\n  description.setAttribute('content', pageDescription);\n  const ogTitle = document.querySelector('head meta[property=\"og:title\"]');\n  ogTitle.setAttribute('content', pageTitle);\n  const ogDescription = document.querySelector('head meta[property=\"og:description\"]');\n  ogDescription.setAttribute('content', pageDescription);\n  //---locale meta information\n  const ogLocale = document.querySelector('head meta[property=\"og:locale\"]');\n  const ogLocaleContent = language + '-' + language.toUpperCase();\n  ogLocale.setAttribute('content', ogLocaleContent);\n  //anchor\n  if(anchor){\n    window.scrollTo(0, 0); //reset to zero\n    const distanceFromTop = document.querySelector(`#${anchor}-${language}`).getBoundingClientRect().top;\n    console.log(`distanceFromTop ${distanceFromTop}`);\n    window.scrollTo(0, distanceFromTop - 50);\n  }\n}\n\n\n//# sourceURL=webpack://pppd/./js/main.js?")},"./js/preloader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./js/main.js\");\n\n\nconst pages = [\n  'about-ru', \n  'about-en', \n  'production-ru', \n  'production-en',\n];\n  \nfunction preLoader(pages){\n  pages.forEach(async pageId => await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.loadPage)(pageId))\n}\npreLoader(pages);  \n\n\n//# sourceURL=webpack://pppd/./js/preloader.js?")},"./js/router.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./js/main.js\");\n\n\nfunction emitAction(path){\n  location.hash = path;\n  console.log(`emitted action: ${path}`);\n}\n\nfunction getPath(){\n  let path = [];\n  const pathString = location.hash.split('#/')[1];\n  if (pathString) path = pathString.split('/');\n  console.log(`[path] lang: ${path[0]}; page: ${path[1]}; anchor: ${path[2]}`);\n  return path;\n}\n\n/*\n* enter point\n*/\nfunction checkLanguage(){\n    if (location.hash === '') {\n        const navigatorLanguage =  window.navigator.language.slice(0, 2);\n        emitAction(`/${navigatorLanguage}`);\n    } else router()\n}\ncheckLanguage();\n\nfunction router(){\n  const path = getPath();\n  (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.openPage)(...path);      \n}\nwindow.addEventListener(\"hashchange\", router);\n\nfunction changeLanguage(language){\n  const path = getPath();\n  path[0] = language;\n  const pathString = path.join('/')\n  emitAction(`/${pathString}`);\n}\nwindow.changeLanguage = changeLanguage;\n\n\n\n//# sourceURL=webpack://pppd/./js/router.js?")}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./js/router.js"),__webpack_require__("./js/preloader.js");var __webpack_exports__=__webpack_require__("./js/footer.js")})();